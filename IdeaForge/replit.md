# RoomReserve - JGSOM Classroom Booking System

## Overview

RoomReserve is a web application designed for Ateneo students to reserve classrooms in the JGSOM building. The system provides real-time availability tracking, advance booking capabilities, and automated check-in confirmation to ensure efficient classroom utilization. Students can browse available rooms, make reservations, and manage their bookings through an intuitive interface.

The application solves the common problem of students wandering the building looking for available study spaces by providing instant visibility into room availability and guaranteed reservations.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework**: React with TypeScript using Vite as the build tool and development server.

**UI Framework**: Shadcn UI components built on Radix UI primitives with Tailwind CSS for styling. The design follows Material Design principles combined with Linear-inspired interface patterns for clarity and efficiency.

**Styling System**: 
- Tailwind CSS with custom configuration for spacing (units of 2, 4, 6, 8)
- Custom color system using CSS variables for theme support
- Inter font family loaded via Google Fonts CDN
- Typography hierarchy with specific weight/size combinations for different UI elements

**State Management**: TanStack Query (React Query) for server state management with optimistic updates and cache invalidation patterns.

**Routing**: Wouter for lightweight client-side routing with protected routes that redirect unauthenticated users to the landing page.

**Key Design Decisions**:
- Component-based architecture with reusable UI components (RoomCard, BookingCard, TimeSlotPicker)
- Responsive layout system using CSS Grid with breakpoints for mobile, tablet, and desktop
- Session-based authentication stored in localStorage
- Real-time UI updates through query invalidation after mutations

### Backend Architecture

**Runtime**: Node.js with Express.js framework for RESTful API endpoints.

**API Structure**: Route handlers organized in `/server/routes.ts` with a storage abstraction layer separating business logic from data access.

**Session Management**: Simple in-memory session storage using Map (note: production systems should use persistent session storage). Sessions identified by `x-session-id` header.

**Storage Pattern**: Repository pattern implemented through `IStorage` interface with `DatabaseStorage` implementation, allowing for easy swapping of data persistence strategies.

**Key Endpoints**:
- `/api/auth/*` - Authentication (login, logout, current user)
- `/api/rooms` - Room listing and details
- `/api/reservations` - Booking management (create, check-in, cancel)
- `/api/admin/reservations` - Admin-only reservation oversight

**Business Logic Highlights**:
- Email validation requiring `@ateneo.edu` domain
- Conflict detection preventing double-booking of rooms
- 15-minute check-in window enforcement with automatic no-show status
- Minimum 30-minute advance booking requirement

### Data Storage

**Database**: PostgreSQL via Neon serverless database with WebSocket connection pooling.

**ORM**: Drizzle ORM for type-safe database queries and schema management.

**Schema Design**:
- `users` - Student accounts with admin flag
- `rooms` - Classroom inventory with capacity, amenities, and location data
- `reservations` - Booking records with status tracking (pending, confirmed, checked_in, cancelled, no_show)

**Key Patterns**:
- UUID primary keys generated by database
- Cascade deletion on foreign key relationships
- Enum types for reservation status
- Array columns for room amenities
- Timestamp tracking for created_at, check-in deadlines, and actual check-in times

**Migration Strategy**: Drizzle Kit for schema migrations stored in `/migrations` directory.

### External Dependencies

**Database Service**: Neon serverless PostgreSQL - provides scalable, serverless database with WebSocket support for connection pooling. Configuration via `DATABASE_URL` environment variable.

**Authentication**: Currently implements simple email-based authentication. The design allows for future integration with:
- Google OAuth API for Ateneo Gmail accounts
- Firebase Authentication as an alternative

**Planned Integrations** (referenced in requirements but not yet implemented):
- Facilities API 1.0 - for real-time classroom schedule data
- Gmail API - for booking confirmation emails

**UI Component Library**: Radix UI primitives providing accessible, unstyled components that are wrapped with Shadcn UI styling conventions.

**Development Tools**:
- Replit-specific plugins for development banners and error overlays
- TypeScript for type safety across client and server
- ESBuild for production bundling
- Drizzle Kit for database schema management

**Key Architectural Decisions**:
- Monorepo structure with shared schema types between client and server
- Path aliases (`@/`, `@shared/`, `@assets/`) for clean imports
- Separation of concerns with dedicated directories for components, pages, hooks, and utilities
- Session-based auth chosen over JWT for simplicity in initial implementation, with clear path to OAuth integration